import{w as Z,B as h,r as b,_ as ee,c as B,a as $,b as te,d as re,R as D,g as ie,u as S,e as A,j as e,D as _,f as E,h as T,F as ue,i as me,k as P,l as Re,m as ke,C as De,n as Oe,s as N,o as Y,T as j,p as Fe,q as he,t as pe,v as xe,L as je,x as G,y as Ne,I as Q,z as ge,A as Ee,E as H,G as _e,H as Te,J as Pe,K as $e,M as Ie,N as Ae,O as we,P as X,Q as f,S as ze,U as We,V as I,W as M,X as L,Y as Le,Z as Be,$ as Me,a0 as Ve,a1 as qe,a2 as Ue,a3 as W,a4 as ce,a5 as Ye,a6 as Ge,a7 as He,a8 as Xe,a9 as Je,aa as Ke,ab as Qe}from"./index-263b48ea.js";h.styles;var Ze=function(t){return{root:{display:"inline-flex",borderRadius:t.shape.borderRadius},contained:{boxShadow:t.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(t.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(t.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:re(t.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:re(t.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:t.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:t.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(t.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(t.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(t.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(t.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:t.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:t.palette.secondary.dark}}}},et=b.forwardRef(function(t,r){var l=t.children,s=t.classes,d=t.className,c=t.color,n=c===void 0?"default":c,a=t.component,o=a===void 0?"div":a,p=t.disabled,g=p===void 0?!1:p,x=t.disableElevation,k=x===void 0?!1:x,O=t.disableFocusRipple,i=O===void 0?!1:O,v=t.disableRipple,y=v===void 0?!1:v,C=t.fullWidth,V=C===void 0?!1:C,q=t.orientation,w=q===void 0?"horizontal":q,m=t.size,K=m===void 0?"medium":m,oe=t.variant,z=oe===void 0?"outlined":oe,ye=ee(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),Se=B(s.grouped,s["grouped".concat($(w))],s["grouped".concat($(z))],s["grouped".concat($(z)).concat($(w))],s["grouped".concat($(z)).concat(n!=="default"?$(n):"")],g&&s.disabled);return b.createElement(o,te({role:"group",className:B(s.root,d,V&&s.fullWidth,k&&s.disableElevation,z==="contained"&&s.contained,w==="vertical"&&s.vertical),ref:r},ye),b.Children.map(l,function(F){return b.isValidElement(F)?b.cloneElement(F,{className:B(Se,F.props.className),color:F.props.color||n,disabled:F.props.disabled||g,disableElevation:F.props.disableElevation||k,disableFocusRipple:i,disableRipple:y,fullWidth:V,size:F.props.size||K,variant:F.props.variant||z}):null}))});const be=Z(Ze,{name:"MuiButtonGroup"})(et);var tt={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},at=b.forwardRef(function(t,r){var l=t.classes,s=t.className,d=t.row,c=d===void 0?!1:d,n=ee(t,["classes","className","row"]);return b.createElement("div",te({className:B(l.root,s,c&&l.row),ref:r},n))});const st=Z(tt,{name:"MuiFormGroup"})(at);var nt={root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},ve=b.forwardRef(function(t,r){var l=t.classes,s=t.className,d=ee(t,["classes","className"]);return b.createElement("div",te({className:B(l.root,s),ref:r},d))});ve.muiName="ListItemSecondaryAction";const Ce=Z(nt,{name:"MuiListItemSecondaryAction"})(ve),U=({data:u,setData:t,customData:r,label:l,type:s})=>{const d=c=>n=>{n.target.checked?t(Y(u,a=>{a[c][n.target.name]=r[c][n.target.name]})):t(Y(u,a=>{delete a[c][n.target.name]}))};return e.jsx(e.Fragment,{children:Object.keys(r[s]).length!==0&&e.jsxs(e.Fragment,{children:[e.jsx(Re,{children:l}),e.jsx(st,{children:Object.keys(r[s]).map(c=>e.jsx(ke,{control:e.jsx(De,{checked:u[s][c]!==void 0,onChange:d(s),name:c}),label:c},c))})]})})},lt=({open:u,handleClose:t})=>{const[r,l]=D.useState(ie()),s=S(x=>x.data.customData),d=A(),c=()=>l(s),n=()=>l(ie()),a=Object.values(r).every(x=>Object.keys(x).length===0),o=Object.values(s).some(x=>Object.keys(x).length!==0),p=()=>{try{const x=JSON.stringify(r);Oe(x),d(N("Custom data copied to clipboard!","success")),t()}catch{d(N("Could not export the custom data!","error"))}},g={data:r,setData:l,customData:s};return e.jsxs(_,{onClose:t,open:u,children:[e.jsx(E,{children:"Export custom data"}),e.jsx(T,{children:e.jsxs(ue,{children:[o&&e.jsx(me,{mb:1,children:e.jsxs(be,{size:"small",color:"primary",variant:"text",children:[e.jsx(h,{onClick:c,children:"Select all"}),e.jsx(h,{onClick:n,children:"Select none"})]})}),e.jsx(U,{label:"Units",type:"unitData",...g}),e.jsx(U,{label:"Rules",type:"rulesData",...g}),e.jsx(U,{label:"Xenos Rules",type:"xenosRulesData",...g}),e.jsx(U,{label:"Psychic Powers",type:"psychicPowers",...g})]})}),e.jsxs(P,{children:[e.jsx(h,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(h,{onClick:p,disabled:a,color:"primary",children:"Export"})]})]})},ot=({open:u,handleClose:t})=>{const r=A(),[l,s]=D.useState(""),d=()=>{if(!l){r(N("You have to input some data!","error"));return}try{const a=JSON.parse(l);r(Fe(a)),r(N("Custom data imported!","success"))}catch{r(N("Could not import the custom data!","error"))}},c=a=>{a==="Enter"?n():a==="ESC"&&t()},n=()=>{d(),t()};return e.jsxs(_,{onClose:t,open:u,children:[e.jsx(E,{children:"Enter the import string"}),e.jsx(T,{children:e.jsx(j,{autoFocus:!0,margin:"normal",label:"Import String",type:"text",fullWidth:!0,onChange:a=>s(a.target.value),onKeyPress:a=>c(a.key)})}),e.jsxs(P,{children:[e.jsx(h,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(h,{onClick:n,disabled:!l,color:"primary",children:"Import"})]})]})},rt=D.memo(ot);var ae={},it=pe,ct=xe;Object.defineProperty(ae,"__esModule",{value:!0});var se=ae.default=void 0,dt=ct(b),ut=it(he()),mt=(0,ut.default)(dt.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");se=ae.default=mt;var ne={},ht=pe,pt=xe;Object.defineProperty(ne,"__esModule",{value:!0});var le=ne.default=void 0,xt=pt(b),jt=ht(he()),gt=(0,jt.default)(xt.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");le=ne.default=gt;const fe=({data:u,actionOneName:t="Edit",ActionOneIcon:r=Ee,handleClickActionOne:l,actionTwoName:s="Delete",ActionTwoIcon:d=le,handleClickActionTwo:c,actionSpecialName:n="Add new",ActionSpecialIcon:a=se,handleClickSpecialAction:o})=>e.jsxs(je,{children:[Object.keys(u).map(p=>e.jsxs(G,{id:p,children:[e.jsx(Ne,{children:e.jsx(Q,{"aria-label":t,onClick:()=>l(p),children:e.jsx(r,{color:"primary"})})}),e.jsx(ge,{children:p}),e.jsx(Ce,{children:e.jsx(Q,{size:"small","aria-label":s,onClick:()=>c(p),children:e.jsx(d,{color:"action"})})})]},p)),e.jsx(G,{id:"add_fr",children:e.jsx(h,{"aria-label":n,startIcon:e.jsx(a,{color:"secondary"}),onClick:o,children:n})},"add_fr")]});function bt(u){const{data:t,CustomForm:r,emptyState:l,removeFunc:s,addFunc:d}=u,[c,n,a]=H(!1),[o,p]=b.useState(l),[g,x]=b.useState(""),k=()=>o.name!==""&&Object.keys(t).every(y=>y===g||y!==o.name),O=()=>{o.name!==g&&s(g),k()&&(d(o),a())},i=y=>{p(t[y]),x(y),n()},v=()=>{p(l),x(""),n()};return e.jsxs(e.Fragment,{children:[e.jsx(fe,{data:t,handleClickActionOne:i,handleClickActionTwo:s,handleClickSpecialAction:v}),e.jsx(r,{open:c,handleClose:a,handleAction:O,initialState:o,changeState:p,validateName:k})]})}function J(u){const{name:t,id:r,expanded:l,handleChange:s,data:d,CustomForm:c,emptyState:n,removeFunc:a,addFunc:o}=u;return e.jsxs(_e,{expanded:l===t,onChange:s(t),children:[e.jsx(Te,{expandIcon:e.jsx(Pe,{}),"aria-controls":r+"-content",id:r+"-header",children:e.jsxs($e,{children:["Manage ",t]})}),e.jsx(Ie,{children:e.jsx(bt,{data:d,CustomForm:c,emptyState:n,removeFunc:a,addFunc:o})})]})}function vt(u){const{open:t,handleClose:r,initialState:l,changeState:s,handleAction:d,validateName:c}=u,n=l;return e.jsxs(_,{onClose:r,open:t,children:[e.jsx(E,{children:"Rule"}),e.jsxs(T,{children:[e.jsx(j,{label:"Name",type:"text",margin:"normal",fullWidth:!0,value:n.name,onChange:a=>s({...n,name:a.target.value}),error:!c(),helperText:"You have to choose a unique name!"}),e.jsx(j,{label:"Description",type:"text",margin:"normal",fullWidth:!0,multiline:!0,value:n.description,onChange:a=>s({...n,description:a.target.value})})]}),e.jsxs(P,{children:[e.jsx(h,{onClick:r,color:"primary",children:"Cancel"}),e.jsx(h,{onClick:d,color:"primary",disabled:!c(),children:"Okay"})]})]})}function Ct(u){const{expanded:t,handleChange:r}=u,l=A(),s=S(a=>a.data.customData),d=S(a=>a.roster.units),c=a=>{Object.values(d).some(o=>o.rules.includes(a))||Object.values(s.unitData).some(o=>o.rules.includes(a))?l(N("You can't delete a rule currently in use!","error")):l(Ae(a))},n=a=>l(we(a));return e.jsx(J,{name:"Rules",id:"rules",expanded:t,handleChange:r,data:s.rulesData,CustomForm:vt,emptyState:{name:"Name",description:"Description"},removeFunc:c,addFunc:n})}const ft=D.memo(Ct);function yt(u){const{open:t,handleClose:r,initialState:l,changeState:s,handleAction:d,validateName:c}=u,n=l;return e.jsxs(_,{onClose:r,open:t,children:[e.jsx(E,{children:"Spell"}),e.jsxs(T,{children:[e.jsx(j,{label:"Name",type:"text",margin:"normal",fullWidth:!0,value:n.name,onChange:a=>s({...n,name:a.target.value}),error:!c(),helperText:"You have to choose a unique name!"}),e.jsx(j,{label:"Difficulty",type:"number",margin:"normal",select:!0,SelectProps:{value:n.difficulty,onChange:a=>s({...n,difficulty:a.target.value})},children:X(2,12).map(a=>e.jsx(f,{value:a,children:a},a))}),e.jsx(j,{label:"Target",type:"text",margin:"normal",fullWidth:!0,value:n.target,onChange:a=>s({...n,target:a.target.value})}),e.jsx(j,{label:"Duration",type:"text",margin:"normal",fullWidth:!0,value:n.duration,onChange:a=>s({...n,duration:a.target.value})}),e.jsx(j,{label:"Effekt",type:"text",margin:"normal",fullWidth:!0,multiline:!0,value:n.effect,onChange:a=>s({...n,effect:a.target.value})})]}),e.jsxs(P,{children:[e.jsx(h,{onClick:r,color:"primary",children:"Cancel"}),e.jsx(h,{onClick:d,color:"primary",disabled:!c(),children:"Okay"})]})]})}function St(u){const{expanded:t,handleChange:r}=u,l=A(),s=S(n=>n.data.customData.psychicPowers),d=n=>l(ze(n)),c=n=>l(We(n));return e.jsx(J,{name:"Spells",id:"spells",expanded:t,handleChange:r,data:s,CustomForm:yt,emptyState:{name:"Name",difficulty:7,target:"Target",duration:"Duration",effect:"Effekt"},removeFunc:d,addFunc:c})}const Rt=D.memo(St),kt=({open:u,handleClose:t,name:r,option:l,unit:s,changeState:d,changeName:c,changeOption:n})=>{const a=S(i=>i.data.rulesData),[o,p]=D.useState(null),g=i=>{p(i.currentTarget)},x=()=>{p(null)},k=i=>()=>{n({...l,setStats:{...l.setStats,[i]:4}}),x()},O=()=>{d({...s,options:{...s.options,[r]:l}}),t()};return e.jsxs(_,{onClose:t,open:u,children:[e.jsx(E,{children:"Option"}),e.jsxs(T,{children:[e.jsx(j,{label:"Name",type:"text",margin:"normal",fullWidth:!0,value:r,onChange:i=>c(i.target.value),error:r==="",helperText:"You have to choose a name!"}),e.jsx(j,{label:"Points",margin:"normal",type:"number",select:!0,SelectProps:{value:l.points,onChange:i=>n({...l,points:i.target.value})},children:X(-4,6).map(i=>e.jsx(f,{value:i,children:i},i))}),e.jsx(j,{label:"Summary",type:"text",margin:"normal",fullWidth:!0,multiline:!0,value:l.description||"",onChange:i=>n({...l,description:i.target.value})}),e.jsx(I,{id:"remove-rules-label",style:{marginTop:15},children:"Remove Rules"}),e.jsx(M,{multiple:!0,id:"remove-rules",labelId:"remove-rules-label",value:l.remove||[],onChange:i=>n({...l,remove:i.target.value}),children:s.rules.map(i=>e.jsx(f,{value:i,children:i},i))}),e.jsx(I,{id:"add-rules-label",style:{marginTop:15},children:"Add Rules"}),e.jsx(M,{multiple:!0,id:"add-rules",labelId:"add-rules-label",value:l.add||[],onChange:i=>n({...l,add:i.target.value}),children:Object.keys(a).map(i=>e.jsx(f,{value:i,children:i},i))}),e.jsx(I,{id:"options-label",style:{marginTop:15},children:"Set Stats"}),e.jsxs(je,{children:[l.setStats&&Object.keys(l.setStats).map(i=>e.jsxs(G,{id:i,children:[e.jsx(ge,{children:L[i].name}),e.jsx(M,{value:l.setStats?l.setStats[i]:0,type:"number",onChange:v=>n({...l,setStats:{...l.setStats,[i]:v.target.value}}),children:L[i].range.map(v=>e.jsx(f,{value:v,children:v},v))}),e.jsx(Ce,{children:e.jsx(Q,{size:"small","aria-label":"Delete",onClick:()=>n(Y(l,v=>{v.setStats&&delete v.setStats[i]})),children:e.jsx(le,{color:"action"})})})]},i)),e.jsxs(G,{id:"add_opt",children:[e.jsx(h,{onClick:g,startIcon:e.jsx(se,{}),children:"Add Stat"}),e.jsx(Le,{id:"add-stat-menu",anchorEl:o,keepMounted:!0,open:!!o,onClose:x,children:Object.keys(L).filter(i=>!Object.keys(l.setStats||{}).includes(i)).map(i=>e.jsx(f,{onClick:k(i),children:L[i].name},i))})]},"add_opt")]})]}),e.jsxs(P,{children:[e.jsx(h,{onClick:t,color:"primary",children:"Cancel"}),e.jsx(h,{onClick:O,color:"primary",disabled:r==="",children:"Okay"})]})]})},de={name:"",points:0,description:""},R=({stat:u,unit:t,changeState:r,isPhone:l})=>{const s=L[u];return e.jsxs(e.Fragment,{children:[e.jsx(ce,{children:l?s.shortName:s.name}),e.jsx(ce,{children:e.jsx(M,{value:t.stats[u],type:"number",onChange:d=>r({...t,stats:{...t.stats,[u]:d.target.value}}),children:s.range.map(d=>e.jsx(f,{value:d,children:d},d))})})]})};function Dt(u){const{open:t,handleClose:r,initialState:l,changeState:s,handleAction:d,validateName:c}=u,n=Be(),a=Me(n.breakpoints.down("xs")),o=l,p=S(m=>m.data.rulesData),[g,x,k]=H(),[O,i]=b.useState({...de}),[v,y]=b.useState("Name"),C={unit:o,changeState:s,isPhone:a},V=m=>{i(o.options[m]),y(m),x()},q=m=>{s(Y(o,K=>{delete K.options[m]}))},w=()=>{i(de),y("Name"),x()};return e.jsxs(_,{onClose:r,open:t,children:[e.jsx(E,{children:"Unit"}),e.jsxs(T,{children:[e.jsxs(ue,{children:[e.jsx(j,{label:"Name",type:"text",margin:"normal",fullWidth:!0,value:o.name,onChange:m=>s({...o,name:m.target.value}),error:!c(),helperText:"You have to choose a unique name!"}),e.jsx(j,{label:"Points",margin:"normal",type:"number",select:!0,SelectProps:{value:o.points,onChange:m=>s({...o,points:m.target.value})},children:X(1,10).map(m=>e.jsx(f,{value:m,children:m},m))}),e.jsx(j,{label:"Strength Points",margin:"normal",type:"number",select:!0,SelectProps:{value:o.stats.strengthPoints,onChange:m=>s({...o,stats:{...o.stats,strengthPoints:m.target.value}})},children:[6,12].map(m=>e.jsx(f,{value:m,children:m},m))})]}),e.jsx(I,{id:"stats-label",style:{marginTop:15},children:"Stats"}),e.jsx(Ve,{style:{marginBottom:20},children:e.jsx(qe,{size:"small",children:e.jsxs(Ue,{children:[e.jsxs(W,{children:[e.jsx(R,{stat:"attack",...C}),e.jsx(R,{stat:"attackValue",...C})]}),e.jsxs(W,{children:[e.jsx(R,{stat:"move",...C}),e.jsx(R,{stat:"defenceValue",...C})]}),e.jsxs(W,{children:[e.jsx(R,{stat:"shoot",...C}),e.jsx(R,{stat:"shootValue",...C})]}),e.jsxs(W,{children:[e.jsx(R,{stat:"courage",...C}),e.jsx(R,{stat:"shootRange",...C})]}),e.jsxs(W,{children:[e.jsx(R,{stat:"armor",...C}),e.jsx(R,{stat:"movement",...C})]})]})})}),e.jsx(I,{id:"rules-label",style:{marginTop:15},children:"Rules"}),e.jsx(M,{multiple:!0,id:"rules",labelId:"rules-label",value:o.rules,onChange:m=>s({...o,rules:m.target.value}),children:Object.keys(p).map(m=>e.jsx(f,{value:m,children:m},m))}),e.jsx(I,{id:"options-label",style:{marginTop:15},children:"Options"}),e.jsx(fe,{data:o.options,handleClickActionOne:V,handleClickActionTwo:q,handleClickSpecialAction:w}),e.jsx(kt,{open:g,handleClose:k,name:v,option:O,unit:o,changeOption:i,changeName:y,changeState:s})]}),e.jsxs(P,{children:[e.jsx(h,{onClick:r,color:"primary",children:"Cancel"}),e.jsx(h,{onClick:d,color:"primary",disabled:!c(),children:"Okay"})]})]})}function Ot(u){const{expanded:t,handleChange:r}=u,l=A(),s=S(a=>a.data.customData.unitData),d=S(a=>a.roster.units),c=a=>{Object.values(d).some(o=>o.name===a)?l(N("You can't delete a unit currently in use!","error")):l(Ye(a))},n=a=>l(Ge(a));return e.jsx(J,{name:"Units",id:"units",expanded:t,handleChange:r,data:s,CustomForm:Dt,emptyState:{name:"Name",type:"foot",points:4,stats:{attack:5,move:6,shoot:0,courage:4,armor:0,attackValue:5,defenceValue:5,shootValue:0,shootRange:0,movement:6,strengthPoints:12},freeActivations:[],rules:[],options:{},xenosRules:[]},removeFunc:c,addFunc:n})}const Ft=D.memo(Ot);function Nt(u){const{open:t,handleClose:r,initialState:l,changeState:s,handleAction:d,validateName:c}=u,n=l,a=S(o=>He(o));return e.jsxs(_,{onClose:r,open:t,children:[e.jsx(E,{children:"Xenos Rule"}),e.jsxs(T,{children:[e.jsx(j,{label:"Name",type:"text",margin:"normal",fullWidth:!0,value:n.name,onChange:o=>s({...n,name:o.target.value}),error:!c(),helperText:"You have to choose a unique name!"}),e.jsx(j,{label:"Points",margin:"normal",type:"number",select:!0,SelectProps:{value:n.points,onChange:o=>s({...n,points:o.target.value})},children:X(-4,6).map(o=>e.jsx(f,{value:o,children:o},o))}),e.jsx(j,{label:"Description",type:"text",margin:"normal",fullWidth:!0,multiline:!0,value:n.description,onChange:o=>s({...n,description:o.target.value})}),e.jsx(j,{label:"Exclude Units",margin:"normal",select:!0,SelectProps:{multiple:!0,value:n.exclude_units,onChange:o=>s({...n,exclude_units:o.target.value})},children:a.map(o=>e.jsx(f,{value:o,children:o},o))})]}),e.jsxs(P,{children:[e.jsx(h,{onClick:r,color:"primary",children:"Cancel"}),e.jsx(h,{onClick:d,color:"primary",disabled:!c(),children:"Okay"})]})]})}function Et(u){const{expanded:t,handleChange:r}=u,l=A(),s=S(a=>a.data.customData.xenosRulesData),d=S(a=>a.roster.units),c=a=>{Object.values(d).some(o=>o.xenosRules.includes(a))?l(N("You can't delete a rule currently in use!","error")):l(Xe(a))},n=a=>l(Je(a));return e.jsx(J,{name:"xenos Rules",id:"xenos-rules",expanded:t,handleChange:r,data:s,CustomForm:Nt,emptyState:{name:"Name",points:0,exclude_units:["Ravenous Hordes"],description:"Description"},removeFunc:c,addFunc:n})}const _t=D.memo(Et),Tt=()=>{const[u,t]=b.useState(""),[r,l,s]=H(),[d,c,n]=H(),a=b.useCallback(o=>(p,g)=>{t(g?o:"")},[]);return e.jsxs(e.Fragment,{children:[e.jsx(E,{children:"Customize"}),e.jsx(Ft,{expanded:u,handleChange:a}),e.jsx(_t,{expanded:u,handleChange:a}),e.jsx(ft,{expanded:u,handleChange:a}),e.jsx(Rt,{expanded:u,handleChange:a}),e.jsx(me,{m:2,mx:"auto",children:e.jsxs(be,{color:"primary",variant:"outlined",children:[e.jsx(h,{"aria-label":"Import custom data",startIcon:e.jsx(Ke,{}),onClick:()=>l(),children:"Import"}),e.jsx(h,{"aria-label":"Export custom data",startIcon:e.jsx(Qe,{}),onClick:()=>c(),children:"Export"})]})}),e.jsx(rt,{open:r,handleClose:s}),e.jsx(lt,{open:d,handleClose:n})]})},$t=D.memo(Tt);export{$t as default};
